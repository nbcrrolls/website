<html>
  <head>
    <script type="text/javascript" src="http://canvg.googlecode.com/svn/trunk/rgbcolor.js"></script> 
    <script type="text/javascript" src="http://canvg.googlecode.com/svn/trunk/canvg.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="base.js"> </script>

    <script type="text/javascript">
      // Define variables for the charts 

      // Resource summary 
      var data1 = new google.visualization.DataTable();
      data1.addColumn('string', 'Year');
      data1.addColumn('number', 'Publications');
      data1.addColumn('number', 'Subprojects');
      data1.addColumn('number', 'Investigators');
      data1.addColumn('number', 'States');
      data1.addColumn('number', 'Countries');

      var options1 = {
          pointSize: 3, 
          width: 770, 
          height: 300, 
          hAxis: {title: 'Year', textStyle: {color: 'black', fontSize: 11}},
          vAxis: {title: 'Count', textStyle: {color: 'black', fontSize: 11}},
          title: 'NBCR Resource Summary, current award period ',
          legend: {position: 'right', textStyle: {color: 'black', fontSize: 11}},
      };
        
      // Add data from stats
      function addData() {
        data1.addRows([
            ["2011",  74,  55, 129, 22,  9],
            ["2012",  85,  63, 132, 22, 11],
            ["2013",  22,   0,   0, 24, 12],
            ["2014",  59,  26, 130, 23, 13],
            ["2015",  0,   26, 115, 14, 6],
        ]);
      }

      // Define charts drawing
      function drawChart() {
        addData();
        // Resource summary
        var chart1 = new google.visualization.ColumnChart(document.getElementById('resource1'));
        chart1.draw(data1, options1);
      }
        
      // Draw charts
      google.setOnLoadCallback(drawChart);

    </script>
  </head>

  <body>
    <h3 align="center"><font color="#0082A0">Resource Summary</font></h3>
        Use <b>Convert</b> buttons to view an image in a frame below and 
        <b>Save</b> buttons to copy an image to your Desktop.<br>

    <!-- bar chart -->
    <div id="resource1" style="width: 770; height: 300px; "></div>

    <!-- bar chart  buttons -->
    <button style="position:relative; left:60 " onclick="saveAsImg(document.getElementById('resource1'));">
        Save bar chart as PNG image
    </button>
    <button style="position:relative; left:60" onclick="toImg(document.getElementById('resource1'), document.getElementById('img_div'));">
        Convert bar chart to image
    </button>
    
    <br />
    <!-- "image placement" position  on the page-->
    <div id="img_div" style="width: 770; position: relative; top:10;  z-index: 10; border: 1px solid #0082A0; color: #0082A0">
      Image will be placed here
    </div>

</body>
</html>
